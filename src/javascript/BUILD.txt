PyFlag uses the dojo build process to produce a compressed release
version of dojo. This released version is smaller and much faster to
load and so is suitable for production. However, if you are planning
to do any javascript development, you might want to install the proper
dojo subversion repository for better error reporting and debugging.

Creating the release file:
--------------------------

The following description applies to building a complete release
version of dojo.

- The release dojo.js is produced from a subversion checkout of the
  dojo project::

   svn co http://svn.dojotoolkit.org/dojo/trunk/

- Copy the included pyflag.profile.js into
  trunk/buildscripts/profiles/

- from within the buildscripts directory build a new release::

   trunk/buildscripts$ ant -Dprofile=pyflag -Ddocless=true release intern-strings

- The new dojo.js will be in trunk/release/dojo.js

Developing Using dojo:
----------------------

To ease javascript debugging and for development is useful having the
full dojo subversion trunk. Pyflag may use that as well:

- Do a standard make install within the pyflag build system. This will
  copy the released dojo.js into ${prefix}/share/pyflag/javascript/

- Remove the released version of dojo.js from
  ${prefix}/share/pyflag/javascript/dojo.js and link into
  ${dojo}/trunk/dojo.js

- Remove ${prefix}/share/pyflag/javascript/src/ and link into
  ${dojo}/trunk/src/

- If you are working on ajax_misc.js it may be useful to remove it and
  link into the pyflag source directory so that changes to that file may 
  be version controlled.


.. note:

   Try to not make changes into your local dojo subversion
   tree. Although this will build a working release version, no one
   else can replicate it. Please introduce changes only in
   ajax_misc.js (for example by overriding class methods). If the
   change is general enough to dojo - try to submit it upstream.
